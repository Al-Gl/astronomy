---
import MainLayout from '../../../../layouts/MainLayout.astro';
import Schema from '../../../../components/Schema.astro';

const breadcrumbs = [
  { name: 'Home', url: '/' },
  { name: 'Cosmic Atlas', url: '/atlas/' },
  { name: 'Solar System', url: '/atlas/solar-system/' },
  { name: 'Earth', url: '/atlas/solar-system/earth/' }
];

const articleData = {
  headline: 'Earth: Our Home Planet - Complete Guide',
  description: 'Comprehensive guide to Earth covering its unique features, atmosphere, geology, the Moon, and why our planet is the only known world to harbor life.',
  datePublished: '2025-01-22',
  dateModified: '2025-01-22',
  author: 'The Astronomy Space',
  image: '/images/Hero_earth.jpg',
  keywords: ['Earth', 'planet', 'home planet', 'atmosphere', 'oceans', 'Moon', 'life', 'geology', 'magnetic field', 'pale blue dot']
};

const faqData = [
  {
    question: 'How old is Earth?',
    answer: 'Earth is approximately 4.54 billion years old, determined through radiometric dating of meteorites and the oldest known Earth rocks. The planet formed from the solar nebula—the disk of gas and dust left over from the Sun\'s formation. Life appeared surprisingly early, with the oldest confirmed fossils dating back about 3.5 billion years.'
  },
  {
    question: 'Why is Earth called the "Blue Planet"?',
    answer: 'Earth is called the Blue Planet because about 71% of its surface is covered by water, which appears blue from space. When astronauts first photographed Earth from the Moon, they were struck by its vibrant blue color against the black void of space. The blue color comes from oceans absorbing red wavelengths of sunlight and reflecting blue wavelengths back into space.'
  },
  {
    question: 'What makes Earth habitable?',
    answer: 'Earth\'s habitability comes from a perfect combination of factors: its distance from the Sun places it in the "habitable zone" where liquid water can exist; a strong magnetic field shields the surface from harmful solar radiation; a thick atmosphere with the right mix of gases provides breathable air and regulates temperature; and plate tectonics recycles carbon and nutrients. No other known planet has all these features.'
  },
  {
    question: 'How fast is Earth moving through space?',
    answer: 'Earth moves through space at multiple speeds simultaneously. It rotates at about 1,670 km/h (1,037 mph) at the equator. It orbits the Sun at approximately 107,000 km/h (67,000 mph). The entire Solar System orbits the Milky Way\'s center at about 828,000 km/h (514,000 mph). And our galaxy moves through the universe at roughly 2.1 million km/h (1.3 million mph) relative to the cosmic microwave background.'
  },
  {
    question: 'What would happen if Earth had no Moon?',
    answer: 'Without the Moon, Earth would be dramatically different. Days would be only 6-8 hours long (the Moon has been slowing Earth\'s rotation for billions of years). Earth\'s axial tilt would wobble chaotically, causing extreme climate swings. Tides would be much weaker (only from the Sun). Some scientists believe life might never have evolved—or would be very different—without the Moon\'s stabilizing influence.'
  },
  {
    question: 'Is Earth perfectly round?',
    answer: 'No, Earth is not a perfect sphere. It\'s an "oblate spheroid"—slightly flattened at the poles and bulging at the equator due to its rotation. The equatorial diameter is about 43 km (27 miles) larger than the polar diameter. Additionally, Earth\'s surface has mountains, ocean trenches, and other features. If shrunk to the size of a billiard ball, however, Earth would actually be smoother than a regulation ball.'
  }
];
---

<MainLayout
  title="Earth: Our Home Planet - Complete Guide | The Astronomy Space"
  description="Comprehensive guide to Earth covering its unique features, atmosphere, geology, the Moon, and why our planet is the only known world to harbor life."
>
  <Schema type="BreadcrumbList" breadcrumbs={breadcrumbs} />
  <Schema type="TechArticle" article={articleData} />
  <Schema type="FAQPage" faq={faqData} />

  <!-- Reading Progress Bar -->
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-image">
      <img src="/images/Hero_earth.jpg" alt="Earth - The Blue Planet as seen from space showing oceans and clouds" loading="eager" />
      <div class="hero-overlay"></div>
    </div>
    <div class="hero-content">
      <nav class="breadcrumbs" aria-label="Breadcrumb">
        <ol>
          <li><a href="/">Home</a></li>
          <li><a href="/atlas/">Cosmic Atlas</a></li>
          <li><a href="/atlas/solar-system/">Solar System</a></li>
          <li aria-current="page">Earth</li>
        </ol>
      </nav>
      <h1>Earth</h1>
      <p class="hero-subtitle">Our Pale Blue Dot</p>
    </div>
  </section>

  <!-- Main Article Content -->
  <article class="content-wrapper">
    <div class="article-layout">

      <!-- Sticky Table of Contents (Left Sidebar) -->
      <aside class="toc-sidebar">
        <nav class="toc" aria-label="Table of Contents">
          <h2>Contents</h2>
          <ol>
            <li><a href="#introduction">Introduction</a></li>
            <li><a href="#physical-characteristics">Physical Characteristics</a></li>
            <li><a href="#atmosphere">Atmosphere</a></li>
            <li><a href="#hydrosphere">Oceans & Water</a></li>
            <li><a href="#geology">Geology & Interior</a></li>
            <li><a href="#magnetic-field">Magnetic Field</a></li>
            <li><a href="#life">Life on Earth</a></li>
            <li><a href="#moon">The Moon</a></li>
            <li><a href="#earth-from-space">Earth from Space</a></li>
            <li><a href="#fun-facts">Interesting Facts</a></li>
            <li><a href="#resources">Resources</a></li>
            <li><a href="#faq">FAQ</a></li>
          </ol>
        </nav>
      </aside>

      <!-- Main Content -->
      <div class="main-content">

        <!-- Answer Capsule -->
        <aside class="answer-capsule">
          <div class="capsule-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 6v6l4 2"/>
            </svg>
          </div>
          <p>Earth is the third planet from the Sun and the only known world to harbor life. Our "Pale Blue Dot" is unique in the Solar System with its liquid water oceans, oxygen-rich atmosphere, protective magnetic field, and the remarkable diversity of life that has evolved over 4 billion years. Earth is also the only planet not named after a mythological god.</p>
        </aside>

        <!-- Moon Navigation Card -->
        <section class="moon-nav-section">
          <h2 class="moon-nav-heading">Explore Earth's Moon</h2>
          <p class="moon-nav-subtitle">Discover our closest celestial neighbor and humanity's first extraterrestrial destination</p>

          <div class="moon-card-container">
            <a href="/atlas/solar-system/earth/moon/" class="planet-card" data-planet="moon">
              <div class="planet-card-visual">
                <img src="/images/card_moon.jpg" alt="The Moon" class="planet-image" loading="lazy" />
              </div>
              <div class="planet-card-content">
                <h3 class="planet-name">The Moon</h3>
                <p class="planet-tagline">Earth's Natural Satellite</p>
              </div>
              <div class="card-arrow">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
              </div>
            </a>
          </div>
        </section>

        <!-- Introduction -->
        <section id="introduction" class="content-section">
          <h2>Introduction to Earth</h2>
          <p>Earth—our home, our only home. Among the countless worlds in the universe, Earth stands alone as the only place where life is known to exist. From the depths of ocean trenches to the peaks of towering mountains, from scorching deserts to frozen poles, life has found a way to thrive in almost every corner of this remarkable planet.</p>

          <p>The name "Earth" comes from Germanic and Old English words meaning "ground" or "soil." Interestingly, Earth is the only planet in our Solar System not named after a Greek or Roman deity. While <a href="/atlas/solar-system/mars/">Mars</a> honors the god of war and <a href="/atlas/solar-system/venus/">Venus</a> the goddess of love, our planet's name reflects our grounded perspective—we named it simply for what we stand on.</p>

          <p>Earth orbits the Sun at an average distance of about 150 million kilometers (93 million miles), a distance so convenient for astronomical calculations that it's defined as 1 Astronomical Unit (AU). This distance places Earth squarely in the "Goldilocks zone"—not too hot, not too cold, but just right for liquid water to exist on the surface.</p>

          <p>What makes Earth truly special isn't any single feature, but the extraordinary combination of factors that together create a habitable world: the right distance from the Sun, a protective magnetic field, an atmosphere with the right mix of gases, liquid water, and plate tectonics that recycle essential elements. Change any one of these factors significantly, and Earth might be as barren as <a href="/atlas/solar-system/mars/">Mars</a> or as hellish as <a href="/atlas/solar-system/venus/">Venus</a>.</p>
        </section>

        <!-- Physical Characteristics -->
        <section id="physical-characteristics" class="content-section">
          <h2>Physical Characteristics</h2>
          <p>Earth is the largest of the four terrestrial (rocky) planets and the densest planet in the entire Solar System. Its size and composition give it enough gravity to hold onto a substantial atmosphere while allowing for a dynamic, geologically active surface.</p>

          <div class="info-box glass">
            <h3>Earth Quick Facts</h3>
            <ul>
              <li><strong>Diameter:</strong> 12,742 km (7,918 miles)</li>
              <li><strong>Mass:</strong> 5.97 × 10²⁴ kg</li>
              <li><strong>Surface Gravity:</strong> 9.81 m/s² (1 g)</li>
              <li><strong>Average Temperature:</strong> 15°C (59°F)</li>
              <li><strong>Day Length:</strong> 23 hours, 56 minutes, 4 seconds</li>
              <li><strong>Year Length:</strong> 365.25 days</li>
              <li><strong>Moons:</strong> 1 (The Moon)</li>
              <li><strong>Distance from Sun:</strong> 150 million km (1 AU)</li>
              <li><strong>Axial Tilt:</strong> 23.5 degrees</li>
            </ul>
          </div>
          <p class="data-source">Data: <a href="https://science.nasa.gov/earth/" target="_blank" rel="noopener noreferrer">NASA Planetary Science</a></p>

          <p>Earth's axial tilt of 23.5 degrees is responsible for the seasons. As Earth orbits the Sun, different hemispheres receive more direct sunlight at different times of year. This tilt, remarkably stable thanks to the Moon's gravitational influence, creates the rhythm of seasons that has shaped the evolution of life.</p>

          <!-- Axial Tilt Interactive -->
          <div class="tilt-interactive glass">
            <div class="tilt-scene">
              <svg id="tiltSvg" viewBox="0 0 440 300" xmlns="http://www.w3.org/2000/svg" aria-label="Interactive axial tilt diagram">
                <defs>
                  <clipPath id="tiltEarthClip">
                    <circle cx="220" cy="150" r="80"/>
                  </clipPath>
                  <!-- Subtle atmosphere glow -->
                  <radialGradient id="atmosGlow" cx="50%" cy="50%" r="50%">
                    <stop offset="70%" stop-color="rgba(56,189,248,0)"/>
                    <stop offset="100%" stop-color="rgba(56,189,248,0.18)"/>
                  </radialGradient>
                  <!-- Sunlight gradient (left side brighter) -->
                  <linearGradient id="sunlightGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="rgba(255,220,100,0.22)"/>
                    <stop offset="50%" stop-color="rgba(255,220,100,0)"/>
                  </linearGradient>
                </defs>

                <!-- Faint orbit plane reference line (horizontal) -->
                <line x1="40" y1="150" x2="400" y2="150"
                  stroke="rgba(255,255,255,0.1)" stroke-width="1" stroke-dasharray="6 5"/>
                <text x="46" y="145" font-size="10" fill="rgba(255,255,255,0.3)" font-family="inherit">orbit plane</text>

                <!-- Sun rays from the left -->
                <line x1="0"  y1="150" x2="138" y2="150" stroke="rgba(255,200,60,0.25)" stroke-width="18"/>
                <line x1="0"  y1="110" x2="138" y2="130" stroke="rgba(255,200,60,0.12)" stroke-width="10"/>
                <line x1="0"  y1="190" x2="138" y2="170" stroke="rgba(255,200,60,0.12)" stroke-width="10"/>
                <circle cx="0" cy="150" r="55" fill="rgba(255,200,60,0.55)"/>

                <!-- Tilted Earth group (JS rotates this) -->
                <g id="tiltGroup" transform="rotate(23.5, 220, 150)">
                  <!-- Earth image -->
                  <image href="/images/card_earth.jpg"
                    x="140" y="70" width="160" height="160"
                    clip-path="url(#tiltEarthClip)"
                    preserveAspectRatio="xMidYMid slice"/>
                  <!-- Atmosphere ring -->
                  <circle cx="220" cy="150" r="82" fill="none"
                    stroke="rgba(56,189,248,0.25)" stroke-width="4"/>
                  <!-- Axis line (through poles) -->
                  <line id="tiltAxis" x1="220" y1="40" x2="220" y2="260"
                    stroke="rgba(255,255,255,0.75)" stroke-width="1.5"
                    stroke-dasharray="5 4"/>
                  <!-- N / S pole labels -->
                  <text x="220" y="34" font-size="13" font-weight="600" fill="rgba(255,255,255,0.85)"
                    font-family="inherit" text-anchor="middle">N</text>
                  <text x="220" y="274" font-size="13" font-weight="600" fill="rgba(255,255,255,0.85)"
                    font-family="inherit" text-anchor="middle">S</text>
                </g>

                <!-- Sunlight wash over Earth (not rotated) -->
                <circle cx="220" cy="150" r="80" fill="url(#sunlightGrad)"/>
                <!-- Atmosphere glow (not rotated) -->
                <circle cx="220" cy="150" r="84" fill="url(#atmosGlow)"/>

                <!-- Angle arc (JS updates) -->
                <path id="tiltArcPath" d="" fill="none"
                  stroke="rgba(255,200,60,0.7)" stroke-width="1.5"/>
                <!-- Angle label -->
                <text id="tiltAngleLabel" x="220" y="116" font-size="14" font-weight="600"
                  fill="rgba(255,200,60,0.9)" font-family="inherit" text-anchor="middle">23.5°</text>
              </svg>
            </div>

            <!-- Info panel -->
            <div class="tilt-info">
              <div class="tilt-stage-name" id="tiltStageName">Earth's Actual Tilt</div>
              <div class="tilt-stage-desc" id="tiltStageDesc">23.5° — four distinct seasons each year</div>
            </div>

            <!-- Controls -->
            <div class="tilt-controls">
              <label class="tilt-slider-label" for="tiltSlider">Axial Tilt: <span id="tiltDegreeDisplay">23.5</span>°</label>
              <input type="range" id="tiltSlider" class="tilt-slider"
                min="0" max="90" step="0.5" value="23.5"
                aria-label="Axial tilt angle in degrees"/>
              <button class="tilt-reset-btn" id="tiltResetBtn" aria-label="Reset to Earth's actual tilt">
                Reset to 23.5°
              </button>
            </div>
          </div>

          <p>The planet's surface is divided between land (29%) and water (71%). Earth is the only planet in the Solar System with liquid water on its surface in significant quantities—a feature visible from space that gives our planet its distinctive blue appearance. The surface constantly changes through plate tectonics, erosion, volcanic activity, and the influence of living organisms.</p>
        </section>

        <!-- Atmosphere -->
        <section id="atmosphere" class="content-section">
          <h2>The Atmosphere</h2>
          <p>Earth's atmosphere is a thin shell of gases that protects life from the harsh environment of space. If Earth were the size of an apple, the atmosphere would be thinner than the apple's skin. Yet this delicate layer makes all the difference between a living world and a dead one.</p>

          <h3>Composition</h3>
          <p>The atmosphere consists of 78% nitrogen, 21% oxygen, 0.9% argon, 0.04% carbon dioxide, and trace amounts of other gases including water vapor (which varies from 0-4%). This composition is unique in the Solar System—no other planet has significant free oxygen in its atmosphere. The oxygen is almost entirely produced by photosynthetic life, primarily cyanobacteria and plants.</p>

          <h3>Atmospheric Layers</h3>
          <ul>
            <li><strong>Troposphere (0-12 km):</strong> Where weather happens and where we live. Temperature decreases with altitude.</li>
            <li><strong>Stratosphere (12-50 km):</strong> Contains the ozone layer, which absorbs harmful UV radiation. Temperature increases with altitude.</li>
            <li><strong>Mesosphere (50-80 km):</strong> Where meteors burn up. The coldest layer, reaching -90°C.</li>
            <li><strong>Thermosphere (80-700 km):</strong> Very thin air heated by solar radiation to over 1,000°C. Where auroras occur.</li>
            <li><strong>Exosphere (700-10,000 km):</strong> The atmosphere fades into space. Satellites orbit here.</li>
          </ul>

          <!-- Atmospheric Layers Interactive -->
          <div class="atmo-interactive glass">
            <div class="atmo-scene">
              <svg id="atmoSvg" viewBox="0 0 500 360" xmlns="http://www.w3.org/2000/svg"
                aria-label="Interactive atmospheric layers diagram" role="img">
                <defs>
                  <linearGradient id="atmoSpaceGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" stop-color="#00001a"/>
                    <stop offset="100%" stop-color="#001030"/>
                  </linearGradient>
                  <linearGradient id="atmoEarthGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" stop-color="rgba(34,120,50,0.9)"/>
                    <stop offset="100%" stop-color="rgba(60,40,20,0.95)"/>
                  </linearGradient>
                </defs>

                <!-- Background -->
                <rect x="0" y="0" width="500" height="360" fill="url(#atmoSpaceGrad)"/>

                <!-- Stars (top) -->
                <circle cx="420" cy="20" r="1"   fill="rgba(255,255,255,0.8)"/>
                <circle cx="460" cy="35" r="1.5" fill="rgba(255,255,255,0.6)"/>
                <circle cx="480" cy="15" r="1"   fill="rgba(255,255,255,0.7)"/>
                <circle cx="430" cy="50" r="1"   fill="rgba(255,255,255,0.5)"/>
                <circle cx="445" cy="8"  r="1.2" fill="rgba(255,255,255,0.65)"/>

                <!-- Layer bands (Exosphere at top → Troposphere at bottom) -->
                <rect id="band-exosphere"    class="atmo-band" data-layer="exosphere"    x="0" y="10"  width="430" height="60" fill="rgba(99,102,241,0.13)" stroke="transparent" stroke-width="2" style="cursor:pointer"/>
                <rect id="band-thermosphere" class="atmo-band" data-layer="thermosphere" x="0" y="70"  width="430" height="60" fill="rgba(139,92,246,0.18)"  stroke="transparent" stroke-width="2" style="cursor:pointer"/>
                <rect id="band-mesosphere"   class="atmo-band" data-layer="mesosphere"   x="0" y="130" width="430" height="53" fill="rgba(79,131,246,0.22)"  stroke="transparent" stroke-width="2" style="cursor:pointer"/>
                <rect id="band-stratosphere" class="atmo-band" data-layer="stratosphere" x="0" y="183" width="430" height="70" fill="rgba(56,149,248,0.26)"  stroke="transparent" stroke-width="2" style="cursor:pointer"/>
                <rect id="band-troposphere"  class="atmo-band" data-layer="troposphere"  x="0" y="253" width="430" height="65" fill="rgba(56,189,248,0.32)"  stroke="transparent" stroke-width="2" style="cursor:pointer"/>

                <!-- Altitude boundary lines -->
                <line x1="430" y1="70"  x2="500" y2="70"  stroke="rgba(255,255,255,0.12)" stroke-width="1"/>
                <line x1="430" y1="130" x2="500" y2="130" stroke="rgba(255,255,255,0.12)" stroke-width="1"/>
                <line x1="430" y1="183" x2="500" y2="183" stroke="rgba(255,255,255,0.12)" stroke-width="1"/>
                <line x1="430" y1="253" x2="500" y2="253" stroke="rgba(255,255,255,0.12)" stroke-width="1"/>
                <line x1="430" y1="318" x2="500" y2="318" stroke="rgba(255,255,255,0.12)" stroke-width="1"/>

                <!-- Altitude labels -->
                <text x="436" y="68"  font-size="11" fill="rgba(255,255,255,0.4)" font-family="inherit">700 km</text>
                <text x="436" y="128" font-size="11" fill="rgba(255,255,255,0.4)" font-family="inherit">80 km</text>
                <text x="436" y="181" font-size="11" fill="rgba(255,255,255,0.4)" font-family="inherit">50 km</text>
                <text x="436" y="251" font-size="11" fill="rgba(255,255,255,0.4)" font-family="inherit">12 km</text>
                <text x="436" y="316" font-size="11" fill="rgba(255,255,255,0.4)" font-family="inherit">0 km</text>

                <!-- Space label -->
                <text x="8" y="22" font-size="10" fill="rgba(255,255,255,0.3)" font-family="inherit">↑ Space</text>

                <!-- Layer name labels (centred in each band, pointer-events:none so clicks pass to rect) -->
                <text x="215" y="36"  font-size="14" font-weight="600" fill="rgba(180,180,255,0.88)" font-family="inherit" text-anchor="middle" style="pointer-events:none">Exosphere</text>
                <text x="215" y="52"  font-size="11" fill="rgba(255,255,255,0.38)" font-family="inherit" text-anchor="middle" style="pointer-events:none">700 – 10,000 km · Satellites</text>

                <text x="215" y="96"  font-size="14" font-weight="600" fill="rgba(200,170,255,0.88)" font-family="inherit" text-anchor="middle" style="pointer-events:none">Thermosphere</text>
                <text x="215" y="112" font-size="11" fill="rgba(255,255,255,0.38)" font-family="inherit" text-anchor="middle" style="pointer-events:none">80 – 700 km · Auroras &amp; ISS</text>

                <text x="215" y="152" font-size="14" font-weight="600" fill="rgba(150,180,255,0.88)" font-family="inherit" text-anchor="middle" style="pointer-events:none">Mesosphere</text>
                <text x="215" y="168" font-size="11" fill="rgba(255,255,255,0.38)" font-family="inherit" text-anchor="middle" style="pointer-events:none">50 – 80 km · Meteors burn up</text>

                <text x="215" y="214" font-size="14" font-weight="600" fill="rgba(100,200,255,0.88)" font-family="inherit" text-anchor="middle" style="pointer-events:none">Stratosphere</text>
                <text x="215" y="230" font-size="11" fill="rgba(255,255,255,0.38)" font-family="inherit" text-anchor="middle" style="pointer-events:none">12 – 50 km · Ozone layer</text>

                <text x="215" y="281" font-size="14" font-weight="600" fill="rgba(56,210,248,0.95)" font-family="inherit" text-anchor="middle" style="pointer-events:none">Troposphere</text>
                <text x="215" y="297" font-size="11" fill="rgba(255,255,255,0.38)" font-family="inherit" text-anchor="middle" style="pointer-events:none">0 – 12 km · Weather &amp; life</text>

                <!-- Earth surface -->
                <rect x="0" y="318" width="500" height="42" fill="url(#atmoEarthGrad)"/>
                <text x="215" y="344" font-size="11" fill="rgba(255,255,255,0.35)" font-family="inherit" text-anchor="middle">Earth's Surface</text>

                <!-- Selected band highlight overlay (JS moves this) -->
                <rect id="atmoHighlight" x="0" y="253" width="430" height="65"
                  fill="none" stroke="rgba(56,189,248,0.65)" stroke-width="2" opacity="1"/>
              </svg>
            </div>

            <!-- Info panel -->
            <div class="atmo-info glass">
              <div class="atmo-info-header">
                <span class="atmo-info-name" id="atmoInfoName">Troposphere</span>
                <span class="atmo-info-alt"  id="atmoInfoAlt">0 – 12 km</span>
              </div>
              <p class="atmo-info-desc" id="atmoInfoDesc">The lowest and densest layer, containing about 75% of the atmosphere's mass and almost all water vapour. All weather — clouds, rain, storms, and wind — occurs here. Temperature drops roughly 6.5°C for every kilometre of altitude gained.</p>
              <div class="atmo-info-fact" id="atmoInfoFact">✦ Mount Everest (8.85 km) reaches about 74% of the way through the Troposphere.</div>
            </div>

            <p class="atmo-hint">Click any layer to explore it</p>
          </div>

          <h3>The Greenhouse Effect</h3>
          <p>Earth's atmosphere traps heat through the greenhouse effect, raising the average surface temperature from about -18°C (without atmosphere) to about 15°C. While this natural greenhouse effect makes Earth habitable, the current increase in greenhouse gases from human activities is causing rapid global warming—one of the greatest challenges facing our civilization.</p>
        </section>

        <!-- Hydrosphere -->
        <section id="hydrosphere" class="content-section">
          <h2>Oceans and Water</h2>
          <p>Water is perhaps Earth's most distinctive feature. Our planet holds about 1.4 billion cubic kilometers of water, with 97.5% in the oceans. This vast quantity of liquid water is found nowhere else in the Solar System's surface environments.</p>

          <h3>The World Ocean</h3>
          <p>Although we name five oceans (Pacific, Atlantic, Indian, Southern, and Arctic), they're all connected in a single global ocean system. The Pacific Ocean alone covers more area than all the land on Earth combined. The oceans contain 97% of Earth's water, and if all the land were smoothed flat, the ocean would cover the entire planet to a depth of about 2.7 kilometers.</p>

          <h3>Ocean Extremes</h3>
          <p>The deepest point on Earth is the Challenger Deep in the Mariana Trench, reaching 10,935 meters (35,876 feet) below sea level—deeper than Mount Everest is tall. The ocean floor features vast mountain ranges, deep trenches, hydrothermal vents, and underwater volcanoes. Less than 20% of the ocean floor has been mapped in detail.</p>

          <h3>Where Did Earth's Water Come From?</h3>
          <p>The origin of Earth's water remains debated. Some water may have been present in the rocks that formed Earth, released through volcanic activity. Additional water likely came from asteroid and comet impacts during the Late Heavy Bombardment period. Recent research suggests asteroids were the primary source, as the hydrogen isotope ratios in Earth's water match asteroids better than comets.</p>
        </section>

        <!-- Geology -->
        <section id="geology" class="content-section">
          <h2>Geology and Interior</h2>
          <p>Earth's interior is far from static. Beneath our feet lies a dynamic system of moving rock, liquid metal, and a solid iron core—all driving the geological processes that shape our planet's surface.</p>

          <h3>Earth's Layers</h3>
          <ul>
            <li><strong>Crust (0-70 km):</strong> The thin outer shell, divided into oceanic crust (5-10 km thick, denser) and continental crust (30-70 km thick, lighter). This is where we live.</li>
            <li><strong>Mantle (70-2,900 km):</strong> Hot, slowly flowing rock that drives plate tectonics. The upper mantle is partially molten; the lower mantle is solid but flows over geological time.</li>
            <li><strong>Outer Core (2,900-5,150 km):</strong> Liquid iron and nickel at 4,000-6,000°C. Convection in this layer generates Earth's magnetic field.</li>
            <li><strong>Inner Core (5,150-6,371 km):</strong> Solid iron and nickel at temperatures up to 5,400°C—as hot as the Sun's surface. It's solid despite the heat because of immense pressure.</li>
          </ul>

          <h3>Plate Tectonics</h3>
          <p>Earth is the only known planet with active plate tectonics. The crust is divided into about 15 major plates that float on the semi-fluid mantle, moving a few centimeters per year. Where plates collide, mountains rise; where they separate, new crust forms; where they slide past each other, earthquakes occur. This continuous recycling of crust regulates Earth's climate over millions of years and is thought to be essential for long-term habitability.</p>

          <h3>Geological Time</h3>
          <p>Earth's 4.54-billion-year history is divided into eons, eras, periods, and epochs. The earliest eon, the Hadean, was a hellish time of constant bombardment and volcanic activity. The Archean saw the first life emerge. The Proterozoic witnessed the rise of oxygen. And the current Phanerozoic eon—only the last 540 million years—encompasses most of the fossil record and the evolution of complex life.</p>
        </section>

        <!-- Magnetic Field -->
        <section id="magnetic-field" class="content-section">
          <h2>Earth's Magnetic Field</h2>
          <p>Surrounding Earth is an invisible shield—the magnetosphere—generated by the churning liquid iron in the outer core. This magnetic field is crucial for life, protecting the surface from the relentless bombardment of solar radiation and cosmic rays.</p>

          <h3>The Geodynamo</h3>
          <p>Earth's magnetic field is generated by a process called the geodynamo. The liquid iron outer core, heated from below and cooled from above, undergoes convection—rising and sinking in complex patterns. Because iron is an electrical conductor and is in motion, it generates electric currents, which in turn produce the magnetic field. It's essentially a self-sustaining electromagnetic generator powered by Earth's internal heat.</p>

          <h3>Protection from Space</h3>
          <p>The magnetosphere extends tens of thousands of kilometers into space, deflecting the solar wind—a stream of charged particles from the Sun. Without this protection, the solar wind would strip away Earth's atmosphere over time (as happened to Mars, which lost its magnetic field billions of years ago) and radiation would make the surface uninhabitable.</p>

          <h3>Auroras</h3>
          <p>When solar particles do enter Earth's magnetic field near the poles, they collide with atmospheric gases and create the spectacular light shows known as auroras—the Northern Lights (aurora borealis) and Southern Lights (aurora australis). Different gases produce different colors: oxygen creates green and red, nitrogen produces blue and purple.</p>

          <h3>Magnetic Reversals</h3>
          <p>Earth's magnetic field is not static. It has reversed polarity hundreds of times throughout Earth's history, with the north and south magnetic poles switching places. These reversals happen irregularly, anywhere from a few thousand to millions of years apart. The last reversal occurred about 780,000 years ago. We may be in the early stages of another reversal now, as the magnetic field has weakened about 10% in the last 150 years.</p>

          <!-- Magnetic Field Interactive -->
          <div class="magfield-interactive glass">
            <div class="magfield-scene">
              <svg id="magfieldSvg" viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg"
                aria-label="Interactive Earth magnetic field diagram" role="img">
                <defs>
                  <clipPath id="magEarthClip">
                    <circle cx="300" cy="200" r="42"/>
                  </clipPath>
                  <radialGradient id="magAtmosGlow" cx="50%" cy="50%" r="50%">
                    <stop offset="75%"  stop-color="rgba(56,189,248,0)"/>
                    <stop offset="100%" stop-color="rgba(56,189,248,0.22)"/>
                  </radialGradient>
                </defs>

                <!-- Background -->
                <rect x="0" y="0" width="600" height="400" fill="#00050f"/>

                <!-- Stars -->
                <circle cx="50"  cy="30"  r="1"   fill="rgba(255,255,255,0.7)"/>
                <circle cx="150" cy="18"  r="1.2" fill="rgba(255,255,255,0.5)"/>
                <circle cx="500" cy="42"  r="1"   fill="rgba(255,255,255,0.65)"/>
                <circle cx="555" cy="15"  r="1.5" fill="rgba(255,255,255,0.55)"/>
                <circle cx="560" cy="355" r="1"   fill="rgba(255,255,255,0.6)"/>
                <circle cx="40"  cy="355" r="1.2" fill="rgba(255,255,255,0.5)"/>
                <circle cx="95"  cy="372" r="1"   fill="rgba(255,255,255,0.7)"/>

                <!-- Sun glow (left edge) -->
                <circle cx="0" cy="200" r="80" fill="rgba(255,180,50,0.1)"/>
                <text x="28" y="375" font-size="10" fill="rgba(255,180,50,0.45)" font-family="inherit">☀ Sun side</text>

                <!-- QUIET-ONLY group (hidden in storm mode) -->
                <g class="mag-quiet-only">
                  <!-- Magnetopause boundary (quiet, wider arc) -->
                  <path d="M 72 118 Q 28 200 72 282" stroke="rgba(100,180,255,0.4)" stroke-width="1.5" fill="none" stroke-dasharray="5 5"/>
                  <text x="66" y="110" font-size="9.5" fill="rgba(100,180,255,0.5)" font-family="inherit">Magnetopause</text>
                  <!-- Solar wind arrows (quiet, 4) -->
                  <line x1="8"  y1="148" x2="50"  y2="148" stroke="rgba(255,180,50,0.65)" stroke-width="1.5"/>
                  <polygon points="50,143 62,148 50,153" fill="rgba(255,180,50,0.65)"/>
                  <line x1="8"  y1="178" x2="50"  y2="178" stroke="rgba(255,180,50,0.65)" stroke-width="1.5"/>
                  <polygon points="50,173 62,178 50,183" fill="rgba(255,180,50,0.65)"/>
                  <line x1="8"  y1="222" x2="50"  y2="222" stroke="rgba(255,180,50,0.65)" stroke-width="1.5"/>
                  <polygon points="50,217 62,222 50,227" fill="rgba(255,180,50,0.65)"/>
                  <line x1="8"  y1="252" x2="50"  y2="252" stroke="rgba(255,180,50,0.65)" stroke-width="1.5"/>
                  <polygon points="50,247 62,252 50,257" fill="rgba(255,180,50,0.65)"/>
                </g>

                <!-- STORM-ONLY group (shown in storm mode) -->
                <g class="mag-storm-only" style="display:none">
                  <!-- CME label -->
                  <text x="8" y="85" font-size="10.5" fill="rgba(255,110,40,0.9)" font-family="inherit" font-weight="600">⚡ CME Impact</text>
                  <!-- Compressed magnetopause -->
                  <path d="M 148 138 Q 112 200 148 262" stroke="rgba(255,100,40,0.6)" stroke-width="2" fill="none" stroke-dasharray="5 5"/>
                  <text x="142" y="130" font-size="9.5" fill="rgba(255,100,40,0.65)" font-family="inherit">Magnetopause</text>
                  <!-- Dense solar wind arrows (storm, 7) -->
                  <line x1="8" y1="143" x2="118" y2="143" stroke="rgba(255,110,30,0.9)" stroke-width="2"/>
                  <polygon points="118,137 130,143 118,149" fill="rgba(255,110,30,0.9)"/>
                  <line x1="8" y1="160" x2="118" y2="160" stroke="rgba(255,110,30,0.9)" stroke-width="2"/>
                  <polygon points="118,154 130,160 118,166" fill="rgba(255,110,30,0.9)"/>
                  <line x1="8" y1="177" x2="118" y2="177" stroke="rgba(255,110,30,0.9)" stroke-width="2"/>
                  <polygon points="118,171 130,177 118,183" fill="rgba(255,110,30,0.9)"/>
                  <line x1="8" y1="200" x2="118" y2="200" stroke="rgba(255,110,30,0.9)" stroke-width="2"/>
                  <polygon points="118,194 130,200 118,206" fill="rgba(255,110,30,0.9)"/>
                  <line x1="8" y1="223" x2="118" y2="223" stroke="rgba(255,110,30,0.9)" stroke-width="2"/>
                  <polygon points="118,217 130,223 118,229" fill="rgba(255,110,30,0.9)"/>
                  <line x1="8" y1="240" x2="118" y2="240" stroke="rgba(255,110,30,0.9)" stroke-width="2"/>
                  <polygon points="118,234 130,240 118,246" fill="rgba(255,110,30,0.9)"/>
                  <line x1="8" y1="257" x2="118" y2="257" stroke="rgba(255,110,30,0.9)" stroke-width="2"/>
                  <polygon points="118,251 130,257 118,263" fill="rgba(255,110,30,0.9)"/>
                </g>

                <!-- FIELD LINES (right side) — N pole → S pole, curving right -->
                <path class="mag-field-line" d="M 300 158 C 355 158 355 242 300 242" stroke="rgba(56,189,248,0.65)"  stroke-width="1.5" fill="none" stroke-dasharray="12 10"/>
                <path class="mag-field-line" d="M 300 158 C 400 158 400 242 300 242" stroke="rgba(99,160,255,0.5)"  stroke-width="1.5" fill="none" stroke-dasharray="12 10" style="animation-delay:-1.5s"/>
                <path class="mag-field-line" d="M 300 158 C 455 158 455 242 300 242" stroke="rgba(139,120,255,0.38)" stroke-width="1.5" fill="none" stroke-dasharray="12 10" style="animation-delay:-3s"/>
                <path class="mag-field-line" d="M 300 158 C 520 158 520 242 300 242" stroke="rgba(167,90,255,0.25)"  stroke-width="1.2" fill="none" stroke-dasharray="12 10" style="animation-delay:-4.5s"/>

                <!-- FIELD LINES (left side) — N pole → S pole, curving left -->
                <path class="mag-field-line" d="M 300 158 C 245 158 245 242 300 242" stroke="rgba(56,189,248,0.65)"  stroke-width="1.5" fill="none" stroke-dasharray="12 10" style="animation-delay:-0.75s"/>
                <path class="mag-field-line" d="M 300 158 C 200 158 200 242 300 242" stroke="rgba(99,160,255,0.5)"  stroke-width="1.5" fill="none" stroke-dasharray="12 10" style="animation-delay:-2.25s"/>
                <path class="mag-field-line" d="M 300 158 C 145 158 145 242 300 242" stroke="rgba(139,120,255,0.38)" stroke-width="1.5" fill="none" stroke-dasharray="12 10" style="animation-delay:-3.75s"/>
                <path class="mag-field-line" d="M 300 158 C 80  158 80  242 300 242" stroke="rgba(167,90,255,0.25)"  stroke-width="1.2" fill="none" stroke-dasharray="12 10" style="animation-delay:-5.25s"/>

                <!-- Magnetotail (night-side, right) -->
                <line x1="300" y1="163" x2="598" y2="88"  stroke="rgba(100,150,255,0.2)" stroke-width="1.5" stroke-dasharray="8 6"/>
                <line x1="300" y1="237" x2="598" y2="312" stroke="rgba(100,150,255,0.2)" stroke-width="1.5" stroke-dasharray="8 6"/>
                <text x="448" y="82" font-size="9.5" fill="rgba(100,150,255,0.38)" font-family="inherit">Magnetotail</text>

                <!-- Earth image -->
                <image href="/images/card_earth.jpg"
                  x="258" y="158" width="84" height="84"
                  clip-path="url(#magEarthClip)"
                  preserveAspectRatio="xMidYMid slice"/>
                <!-- Atmosphere ring -->
                <circle cx="300" cy="200" r="44" fill="url(#magAtmosGlow)"/>
                <circle cx="300" cy="200" r="44" fill="none" stroke="rgba(56,189,248,0.22)" stroke-width="3"/>

                <!-- Aurora zones (JS changes opacity in storm mode) -->
                <ellipse id="auroraN" cx="300" cy="163" rx="30" ry="7" fill="rgba(0,230,120,0.15)"/>
                <ellipse id="auroraS" cx="300" cy="237" rx="30" ry="7" fill="rgba(0,200,255,0.15)"/>

                <!-- Geographic axis (very faint) -->
                <line x1="300" y1="144" x2="300" y2="256" stroke="rgba(255,255,255,0.12)" stroke-width="1" stroke-dasharray="4 4"/>

                <!-- Magnetic axis (11° tilt) -->
                <line x1="290" y1="148" x2="310" y2="252" stroke="rgba(255,255,255,0.3)" stroke-width="1" stroke-dasharray="4 3"/>

                <!-- Magnetic pole dots and labels -->
                <circle cx="295" cy="158" r="3.5" fill="rgba(56,220,248,0.95)"/>
                <text x="295" y="150" font-size="9.5" fill="rgba(255,255,255,0.7)" font-family="inherit" text-anchor="middle">Mag. N</text>
                <circle cx="305" cy="242" r="3.5" fill="rgba(210,100,255,0.95)"/>
                <text x="305" y="256" font-size="9.5" fill="rgba(255,255,255,0.7)" font-family="inherit" text-anchor="middle">Mag. S</text>

                <!-- Field lines label -->
                <text x="365" y="196" font-size="9.5" fill="rgba(56,189,248,0.4)" font-family="inherit">Field</text>
                <text x="365" y="208" font-size="9.5" fill="rgba(56,189,248,0.4)" font-family="inherit">Lines</text>
              </svg>
            </div>

            <!-- Controls -->
            <div class="magfield-controls">
              <button class="magfield-toggle-btn" id="magToggleBtn">Show Solar Storm</button>
            </div>
            <p class="magfield-caption">Earth's magnetosphere deflects the solar wind, protecting our atmosphere. Click to simulate a Coronal Mass Ejection (CME) impact.</p>
          </div>

        </section>

        <!-- Life on Earth -->
        <section id="life" class="content-section">
          <h2>Life on Earth</h2>
          <p>Earth teems with life in forms so diverse, we haven't finished counting them. From bacteria to blue whales, from archaea in volcanic vents to eagles soaring in the sky, life has colonized virtually every environment on our planet.</p>

          <h3>The Origin of Life</h3>
          <p>Life appeared on Earth remarkably early—within the first billion years of the planet's existence. The oldest confirmed fossils are stromatolites (layered structures formed by microbial mats) dating back about 3.5 billion years, though chemical evidence suggests life may have existed even earlier. How life first arose from non-living chemistry—a process called abiogenesis—remains one of science's greatest unsolved mysteries.</p>

          <h3>The Tree of Life</h3>
          <p>All known life on Earth shares a common ancestor and uses the same basic genetic code (DNA and RNA). Life is divided into three domains: Bacteria (simple single-celled organisms), Archaea (single-celled organisms often found in extreme environments), and Eukarya (organisms with complex cells, including all plants, animals, and fungi). Scientists estimate there are 8-10 million species on Earth, but we've only described about 1.5 million.</p>

          <h3>Mass Extinctions</h3>
          <p>Life on Earth has faced at least five major mass extinctions that killed off more than 75% of species each time. The most famous is the end-Cretaceous extinction 66 million years ago, when an asteroid impact ended the age of dinosaurs. Yet life has always recovered, often evolving into new and more diverse forms. Many scientists believe we are now in the midst of a sixth mass extinction, driven by human activities.</p>

          <h3>Earth's Biosphere</h3>
          <p>Living organisms don't just inhabit Earth—they've transformed it. The oxygen in our atmosphere was produced by photosynthetic life. The ozone layer that blocks UV radiation exists because of that oxygen. Soil is largely created by organisms. Life has even influenced Earth's geology and climate. In a very real sense, Earth's habitability is maintained by life itself.</p>
        </section>

        <!-- The Moon -->
        <section id="moon" class="content-section">
          <h2>The Moon</h2>
          <p>Earth's constant companion, the Moon, is the fifth-largest satellite in the Solar System and is unusually large relative to its parent planet. The Moon has profoundly influenced Earth's evolution and continues to affect our planet today.</p>

          <h3>Formation</h3>
          <p>The leading theory for the Moon's origin is the Giant Impact Hypothesis. About 4.5 billion years ago, a Mars-sized body (sometimes called Theia) collided with the young Earth. The impact ejected massive amounts of debris into orbit, which coalesced to form the Moon. This explains why the Moon has a similar composition to Earth's mantle but lacks a significant iron core.</p>

          <h3>Influence on Earth</h3>
          <p>The Moon's gravitational pull creates ocean tides and has slowly slowed Earth's rotation over billions of years—our days were once only 6 hours long. Most importantly, the Moon stabilizes Earth's axial tilt, preventing the wild wobbles that would cause extreme climate swings. Without the Moon, Earth might be far less habitable.</p>

          <h3>Exploration</h3>
          <p>The Moon is the only celestial body beyond Earth that humans have visited. Between 1969 and 1972, twelve astronauts walked on the lunar surface during NASA's Apollo program, bringing back 382 kg of moon rocks. Today, multiple nations and private companies are planning return missions, with NASA's Artemis program aiming to establish a sustained human presence on the Moon.</p>

          <p class="read-more">→ <a href="/atlas/solar-system/earth/moon/">Explore the Moon in detail</a></p>
        </section>

        <!-- Earth from Space -->
        <section id="earth-from-space" class="content-section">
          <h2>Earth from Space</h2>
          <p>No one has expressed the cosmic perspective better than astronauts who have seen Earth from space. The view has profoundly changed many of them—a phenomenon called the "overview effect."</p>

          <h3>The Pale Blue Dot</h3>
          <p>In 1990, as the Voyager 1 spacecraft was leaving the Solar System, Carl Sagan convinced NASA to turn the camera around and take one last photograph of Earth from 6 billion kilometers away. In the resulting image, Earth appears as a tiny, pale blue dot suspended in a sunbeam. Sagan's reflection on this image has become one of the most famous passages in science writing:</p>

          <blockquote class="quote-box glass">
            <p>"Look again at that dot. That's here. That's home. That's us. On it everyone you love, everyone you know, everyone you ever heard of, every human being who ever was, lived out their lives... on a mote of dust suspended in a sunbeam."</p>
            <cite>— Carl Sagan</cite>
          </blockquote>

          <h3>Earthrise</h3>
          <p>One of the most famous photographs in history is "Earthrise," taken by Apollo 8 astronaut William Anders on December 24, 1968. It shows Earth rising above the lunar horizon—the first time humans had seen their home planet from another world. The image is credited with sparking the environmental movement and changing humanity's perspective on our place in the cosmos.</p>

          <h3>The Blue Marble</h3>
          <p>The "Blue Marble" photograph, taken by the Apollo 17 crew in 1972, shows a fully illuminated Earth and remains one of the most widely distributed images in history. It captures Africa, Antarctica, and the Arabian Peninsula, with swirling white clouds against the blue oceans. This image powerfully illustrates why Earth is called the Blue Planet.</p>
        </section>

        <!-- Interesting Facts -->
        <section id="fun-facts" class="content-section">
          <h2>Interesting Facts About Earth</h2>
          <p>Our home planet is full of surprising facts that remind us how extraordinary and unique Earth truly is.</p>

          <ul class="facts-list">
            <li><strong>The Only Planet Not Named After a God:</strong> All other planets in our Solar System are named after Greek or Roman deities. Earth's name simply comes from Germanic words meaning "ground" or "soil."</li>

            <li><strong>Constantly Gaining and Losing Mass:</strong> Earth gains about 40,000 tons of cosmic dust per year from space. But it loses about 95,000 tons of hydrogen and helium that escape from the upper atmosphere. Overall, Earth is slowly getting lighter.</li>

            <li><strong>The Moon is Moving Away:</strong> The Moon is receding from Earth at about 3.8 centimeters per year. In the distant past, it was much closer; in the far future, it will appear smaller in the sky and total solar eclipses will no longer be possible.</li>

            <li><strong>Days Are Getting Longer:</strong> Due to tidal friction, Earth's rotation is gradually slowing, making days about 1.4 milliseconds longer per century. 600 million years ago, a day was only about 21 hours long.</li>

            <li><strong>Mount Everest Isn't the Tallest:</strong> While Everest has the highest elevation above sea level (8,849 m), Mauna Kea in Hawaii is the tallest mountain measured from base to peak (10,203 m), with most of it underwater.</li>

            <li><strong>The Loneliest Spot:</strong> Point Nemo in the Pacific Ocean is the most remote location on Earth—2,688 km from the nearest land. The nearest humans are often astronauts on the ISS passing 400 km overhead.</li>

            <li><strong>Lightning Never Stops:</strong> At any given moment, about 2,000 thunderstorms are happening on Earth, producing roughly 100 lightning strikes per second—over 8 million per day.</li>

            <li><strong>Most of Earth is Dark:</strong> Despite the Sun, most of Earth's volume is in complete darkness. Sunlight only penetrates about 1 km into the ocean, and Earth's radius is 6,371 km.</li>
          </ul>
        </section>

        <!-- External Resources -->
        <section id="resources" class="content-section">
          <h2>External Resources</h2>
          <ul class="resource-list">
            <li><a href="https://science.nasa.gov/earth/" target="_blank" rel="noopener">NASA Earth Science</a> - Official NASA page for Earth science research and satellite imagery</li>
            <li><a href="https://en.wikipedia.org/wiki/Earth" target="_blank" rel="noopener">Earth on Wikipedia</a> - Comprehensive encyclopedia article</li>
            <li><a href="https://earthobservatory.nasa.gov/" target="_blank" rel="noopener">NASA Earth Observatory</a> - Daily satellite images and stories about our changing planet</li>
            <li><a href="https://climate.nasa.gov/" target="_blank" rel="noopener">NASA Climate</a> - Vital signs of the planet and climate science</li>
          </ul>
        </section>

        <!-- FAQ Section -->
        <section id="faq" class="content-section faq-section">
          <h2>Frequently Asked Questions</h2>

          <div class="faq-list">
            {faqData.map((item) => (
              <details class="faq-item">
                <summary class="faq-question">{item.question}</summary>
                <div class="faq-answer">
                  <p>{item.answer}</p>
                </div>
              </details>
            ))}
          </div>
        </section>

      </div>
    </div>
  </article>
</MainLayout>

<script>
  // Reading Progress Bar
  window.addEventListener('scroll', () => {
    const scrollTop = window.scrollY;
    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
    const scrollPercent = (scrollTop / docHeight) * 100;
    const progressBar = document.getElementById('progressBar');
    if (progressBar) {
      progressBar.style.width = scrollPercent + '%';
    }
  });

  // Active TOC highlighting
  const sections = document.querySelectorAll('.content-section');
  const tocLinks = document.querySelectorAll('.toc a');

  const observerOptions = {
    rootMargin: '-20% 0% -70% 0%'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        tocLinks.forEach(link => link.classList.remove('active'));
        const activeLink = document.querySelector(`.toc a[href="#${entry.target.id}"]`);
        if (activeLink) activeLink.classList.add('active');
      }
    });
  }, observerOptions);

  sections.forEach(section => observer.observe(section));

  // ─── Axial Tilt Interactive ────────────────────────────────────────────────
  const tiltSlider      = document.getElementById('tiltSlider') as HTMLInputElement | null;
  const tiltGroup       = document.getElementById('tiltGroup');
  const tiltArcPath     = document.getElementById('tiltArcPath');
  const tiltAngleLabel  = document.getElementById('tiltAngleLabel');
  const tiltStageName   = document.getElementById('tiltStageName');
  const tiltStageDesc   = document.getElementById('tiltStageDesc');
  const tiltDegreeDisp  = document.getElementById('tiltDegreeDisplay');
  const tiltResetBtn    = document.getElementById('tiltResetBtn');

  // SVG centre of Earth
  const TX = 220, TY = 150;
  const ARC_R = 45;       // radius of angle arc near centre

  function getTiltStageInfo(deg: number): { name: string; desc: string } {
    if (deg === 0)       return { name: 'No Tilt', desc: '0° — no seasons, uniform sunlight year-round' };
    if (deg <= 10)       return { name: 'Very Slight Tilt', desc: `${deg}° — barely noticeable seasons` };
    if (deg <= 20)       return { name: 'Mild Tilt', desc: `${deg}° — gentle seasonal variation` };
    if (deg <= 27)       return { name: "Earth's Actual Tilt", desc: `${deg}° — four distinct seasons each year` };
    if (deg <= 45)       return { name: 'Strong Tilt', desc: `${deg}° — dramatic seasonal temperature swings` };
    if (deg <= 70)       return { name: 'Extreme Tilt', desc: `${deg}° — polar regions face Sun for months at a time` };
    return               { name: 'Like Uranus', desc: `${deg}° — rolling on its side, each pole gets 6 months of continuous sunlight` };
  }

  function updateTilt(deg: number) {
    // Rotate the Earth group
    if (tiltGroup) {
      tiltGroup.setAttribute('transform', `rotate(${deg}, ${TX}, ${TY})`);
    }

    // Draw tilt arc between vertical (up) and current axis
    // Vertical = 270° in SVG coords (pointing up). Axis starts at 270°-deg.
    const arcStartRad = (-90) * Math.PI / 180;           // straight up
    const arcEndRad   = (-90 + deg) * Math.PI / 180;     // rotated by tilt
    const x1 = TX + ARC_R * Math.cos(arcStartRad);
    const y1 = TY + ARC_R * Math.sin(arcStartRad);
    const x2 = TX + ARC_R * Math.cos(arcEndRad);
    const y2 = TY + ARC_R * Math.sin(arcEndRad);
    const largeArc = deg > 180 ? 1 : 0;
    if (tiltArcPath) {
      if (deg === 0) {
        tiltArcPath.setAttribute('d', '');
      } else {
        tiltArcPath.setAttribute('d',
          `M ${x1.toFixed(1)} ${y1.toFixed(1)} A ${ARC_R} ${ARC_R} 0 ${largeArc} 1 ${x2.toFixed(1)} ${y2.toFixed(1)}`
        );
      }
    }

    // Position angle label between the two arc ends, slightly inward
    const midRad = (-90 + deg / 2) * Math.PI / 180;
    const lx = TX + (ARC_R - 18) * Math.cos(midRad);
    const ly = TY + (ARC_R - 18) * Math.sin(midRad);
    if (tiltAngleLabel) {
      tiltAngleLabel.setAttribute('x', lx.toFixed(1));
      tiltAngleLabel.setAttribute('y', ly.toFixed(1));
      tiltAngleLabel.textContent = deg === 0 ? '0°' : `${deg}°`;
      tiltAngleLabel.style.opacity = deg === 0 ? '0' : '1';
    }

    // Info panel
    const info = getTiltStageInfo(deg);
    if (tiltStageName) tiltStageName.textContent = info.name;
    if (tiltStageDesc) tiltStageDesc.textContent = info.desc;
    if (tiltDegreeDisp) tiltDegreeDisp.textContent = String(deg);
  }

  tiltSlider?.addEventListener('input', () => {
    updateTilt(parseFloat(tiltSlider!.value));
  });

  tiltResetBtn?.addEventListener('click', () => {
    if (tiltSlider) tiltSlider.value = '23.5';
    updateTilt(23.5);
  });

  // Initialise
  updateTilt(23.5);

  // ─── Atmospheric Layers Interactive ───────────────────────────────────────
  type AtmoLayer = {
    name: string; alt: string; desc: string; fact: string;
    bandY: number; bandH: number; stroke: string;
  };
  const atmoLayers: Record<string, AtmoLayer> = {
    troposphere: {
      name: 'Troposphere', alt: '0 – 12 km',
      desc: "The lowest and densest layer, containing about 75% of the atmosphere's mass and almost all water vapour. All weather — clouds, rain, storms, and wind — occurs here. Temperature drops roughly 6.5°C for every kilometre of altitude gained.",
      fact: '✦ Mount Everest (8.85 km) reaches about 74% of the way through the Troposphere.',
      bandY: 253, bandH: 65, stroke: 'rgba(56,189,248,0.7)',
    },
    stratosphere: {
      name: 'Stratosphere', alt: '12 – 50 km',
      desc: "Home to the ozone layer, which absorbs 97–99% of the Sun's harmful ultraviolet radiation. Unlike the Troposphere, temperature increases with altitude here — from about −60°C at 12 km to 0°C at the top — because ozone absorbs solar UV energy. Jet aircraft cruise in the lower Stratosphere.",
      fact: '✦ Felix Baumgartner\'s record-breaking 2012 skydive began at 39 km — well within the Stratosphere.',
      bandY: 183, bandH: 70, stroke: 'rgba(56,149,248,0.7)',
    },
    mesosphere: {
      name: 'Mesosphere', alt: '50 – 80 km',
      desc: "The coldest layer in the atmosphere, reaching temperatures as low as −90°C. Most meteors entering Earth's atmosphere burn up here due to friction with air molecules. Despite very thin air, the Mesosphere still has enough density to cause meteors to heat and disintegrate.",
      fact: '✦ Noctilucent clouds — the highest clouds on Earth — form in the Mesosphere at about 76–85 km.',
      bandY: 130, bandH: 53, stroke: 'rgba(79,131,246,0.7)',
    },
    thermosphere: {
      name: 'Thermosphere', alt: '80 – 700 km',
      desc: "Although temperatures can exceed 2,000°C, the air is so thin that a thermometer would read far below zero — there simply aren't enough molecules to transfer heat. The International Space Station orbits at ~400 km. Auroras occur here when charged solar particles collide with atmospheric gases.",
      fact: '✦ The ISS orbits Earth every 90 minutes at about 400 km — squarely in the Thermosphere.',
      bandY: 70, bandH: 60, stroke: 'rgba(139,92,246,0.7)',
    },
    exosphere: {
      name: 'Exosphere', alt: '700 – 10,000 km',
      desc: "The outermost layer, where the atmosphere gradually fades into the vacuum of space. Molecules here are so sparse they can travel hundreds of kilometres without colliding. GPS, weather, and communications satellites orbit throughout the Exosphere. There is no sharp boundary — it simply thins to nothing.",
      fact: '✦ The Hubble Space Telescope orbits at ~547 km, in the upper Thermosphere / lower Exosphere region.',
      bandY: 10, bandH: 60, stroke: 'rgba(99,102,241,0.7)',
    },
  };

  const atmoHighlight  = document.getElementById('atmoHighlight');
  const atmoInfoName   = document.getElementById('atmoInfoName');
  const atmoInfoAlt    = document.getElementById('atmoInfoAlt');
  const atmoInfoDesc   = document.getElementById('atmoInfoDesc');
  const atmoInfoFact   = document.getElementById('atmoInfoFact');

  function selectAtmoLayer(key: string) {
    const layer = atmoLayers[key];
    if (!layer) return;
    if (atmoHighlight) {
      atmoHighlight.setAttribute('y',      String(layer.bandY));
      atmoHighlight.setAttribute('height', String(layer.bandH));
      atmoHighlight.setAttribute('stroke', layer.stroke);
    }
    if (atmoInfoName) atmoInfoName.textContent = layer.name;
    if (atmoInfoAlt)  atmoInfoAlt.textContent  = layer.alt;
    if (atmoInfoDesc) atmoInfoDesc.textContent = layer.desc;
    if (atmoInfoFact) atmoInfoFact.textContent = layer.fact;
  }

  document.querySelectorAll<SVGRectElement>('.atmo-band').forEach(band => {
    band.addEventListener('click', () => {
      const key = band.getAttribute('data-layer');
      if (key) selectAtmoLayer(key);
    });
  });

  selectAtmoLayer('troposphere');

  // ─── Magnetic Field Interactive ────────────────────────────────────────────
  const magToggleBtn   = document.getElementById('magToggleBtn') as HTMLButtonElement | null;
  const magStormEls    = document.querySelectorAll<HTMLElement>('.mag-storm-only');
  const magQuietEls    = document.querySelectorAll<HTMLElement>('.mag-quiet-only');
  const auroraNEl      = document.getElementById('auroraN');
  const auroraSEl      = document.getElementById('auroraS');
  let magIsStorm = false;

  magToggleBtn?.addEventListener('click', () => {
    magIsStorm = !magIsStorm;

    magStormEls.forEach(el => { el.style.display = magIsStorm ? '' : 'none'; });
    magQuietEls.forEach(el => { el.style.display = magIsStorm ? 'none' : ''; });

    // Auroras: brighten during storm
    if (auroraNEl) auroraNEl.setAttribute('fill', magIsStorm ? 'rgba(0,230,120,0.6)'  : 'rgba(0,230,120,0.15)');
    if (auroraSEl) auroraSEl.setAttribute('fill', magIsStorm ? 'rgba(0,200,255,0.6)'  : 'rgba(0,200,255,0.15)');

    if (magToggleBtn) {
      magToggleBtn.textContent = magIsStorm ? 'Back to Quiet Sun' : 'Show Solar Storm';
      magToggleBtn.classList.toggle('active', magIsStorm);
    }
  });
</script>

<style>
  /* Progress Bar */
  .progress-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: rgba(255, 255, 255, 0.1);
    z-index: 1000;
  }

  .progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, var(--color-accent-cyan), var(--color-accent-blue));
    transition: width 0.1s ease-out;
  }

  /* Hero Section */
  .hero {
    position: relative;
    min-height: 60vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .hero-image {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .hero-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0.3) 0%,
      rgba(0, 0, 0, 0.6) 50%,
      rgba(0, 0, 0, 0.9) 100%
    );
  }

  .hero-content {
    position: relative;
    z-index: 1;
    text-align: center;
    padding: var(--space-xl);
  }

  .hero h1 {
    font-family: var(--font-heading);
    font-size: clamp(2.5rem, 6vw, 4.5rem);
    font-weight: 700;
    margin-bottom: var(--space-sm);
    text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
  }

  .hero-subtitle {
    font-size: clamp(1.25rem, 3vw, 1.75rem);
    color: var(--color-accent-cyan);
    font-weight: 500;
  }

  /* Breadcrumbs */
  .breadcrumbs {
    margin-bottom: var(--space-lg);
  }

  .breadcrumbs ol {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.5rem;
    list-style: none;
    padding: 0;
    margin: 0;
    font-size: 0.9rem;
  }

  .breadcrumbs li {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .breadcrumbs li:not(:last-child)::after {
    content: '›';
    color: var(--color-text-secondary);
  }

  .breadcrumbs a {
    color: var(--color-text-secondary);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .breadcrumbs a:hover {
    color: var(--color-accent-cyan);
  }

  .breadcrumbs li[aria-current="page"] {
    color: var(--color-text-primary);
  }

  /* Article Layout with Sidebar */
  .content-wrapper {
    padding: var(--space-2xl) 0;
  }

  .article-layout {
    display: grid;
    grid-template-columns: 1fr;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--space-md);
    gap: var(--space-xl);
  }

  @media (min-width: 1024px) {
    .article-layout {
      grid-template-columns: 220px 1fr;
      gap: var(--space-2xl);
    }
  }

  /* Sticky TOC Sidebar */
  .toc-sidebar {
    display: none;
  }

  @media (min-width: 1024px) {
    .toc-sidebar {
      display: block;
    }

    .toc {
      position: sticky;
      top: calc(var(--space-xl) + 3px);
      max-height: calc(100vh - var(--space-2xl));
      overflow-y: auto;
    }
  }

  .toc h2 {
    font-family: var(--font-heading);
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: var(--space-md);
    color: var(--color-text-secondary);
  }

  .toc ol {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .toc li {
    margin-bottom: 0.25rem;
  }

  .toc a {
    display: block;
    padding: 0.5rem 0;
    padding-left: var(--space-sm);
    color: var(--color-text-secondary);
    text-decoration: none;
    font-size: 0.9rem;
    border-left: 2px solid transparent;
    transition: all 0.2s ease;
  }

  .toc a:hover {
    color: var(--color-text-primary);
    border-left-color: rgba(6, 182, 212, 0.5);
  }

  .toc a.active {
    color: var(--color-accent-cyan);
    border-left-color: var(--color-accent-cyan);
  }

  /* Main Content */
  .main-content {
    max-width: 800px;
  }

  /* Answer Capsule */
  .answer-capsule {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-lg);
    margin-bottom: var(--space-2xl);
    background: linear-gradient(135deg, rgba(6, 182, 212, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
    border: 1px solid rgba(6, 182, 212, 0.2);
    border-radius: var(--radius-lg);
    position: relative;
    overflow: hidden;
  }

  .answer-capsule::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at top left, rgba(6, 182, 212, 0.15) 0%, transparent 50%);
    pointer-events: none;
  }

  .capsule-icon {
    flex-shrink: 0;
    width: 40px;
    height: 40px;
    color: var(--color-accent-cyan);
    opacity: 0.8;
  }

  .capsule-icon svg {
    width: 100%;
    height: 100%;
  }

  .answer-capsule p {
    margin: 0;
    font-size: 1.1rem;
    line-height: 1.7;
    color: var(--color-text-primary);
    position: relative;
  }

  /* Moon Navigation Section */
  .moon-nav-section {
    margin-bottom: var(--space-2xl);
    padding-bottom: var(--space-xl);
    border-bottom: 1px solid rgba(148, 163, 184, 0.1);
  }

  .moon-nav-heading {
    font-family: var(--font-heading);
    font-size: clamp(1.5rem, 3vw, 1.875rem);
    margin-bottom: var(--space-sm);
    background: linear-gradient(135deg, var(--color-accent-cyan) 0%, var(--color-accent-blue) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .moon-nav-subtitle {
    font-size: 1rem;
    color: var(--color-text-secondary);
    margin-bottom: var(--space-lg);
  }

  .moon-card-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
  }

  @media (min-width: 640px) {
    .moon-card-container {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .moon-card-container {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .moon-card-container .planet-card {
    display: flex;
    flex-direction: column;
    background: var(--glass-bg);
    border: var(--glass-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
    text-decoration: none;
    transition: all 0.3s ease;
    position: relative;
  }

  .moon-card-container .planet-card:hover {
    transform: translateY(-4px);
    border-color: rgba(6, 182, 212, 0.4);
    box-shadow: 0 8px 30px rgba(6, 182, 212, 0.2);
  }

  .moon-card-container .planet-card-visual {
    position: relative;
    width: 100%;
    aspect-ratio: 1;
    overflow: hidden;
  }

  .moon-card-container .planet-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .moon-card-container .planet-card:hover .planet-image {
    transform: scale(1.05);
  }

  .moon-card-container .planet-card-content {
    padding: var(--space-md);
    flex: 1;
  }

  .moon-card-container .planet-name {
    font-family: var(--font-heading);
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0 0 0.25rem 0;
    color: var(--color-text-primary);
  }

  .moon-card-container .planet-tagline {
    font-size: 0.875rem;
    color: var(--color-text-secondary);
    margin: 0;
  }

  .moon-card-container .card-arrow {
    position: absolute;
    bottom: var(--space-md);
    right: var(--space-md);
    width: 24px;
    height: 24px;
    color: var(--color-accent-cyan);
    opacity: 0;
    transform: translateX(-10px);
    transition: all 0.3s ease;
  }

  .moon-card-container .planet-card:hover .card-arrow {
    opacity: 1;
    transform: translateX(0);
  }

  /* Content Sections */
  .content-section {
    margin-bottom: var(--space-2xl);
  }

  .content-section h2 {
    font-family: var(--font-heading);
    font-size: clamp(1.75rem, 4vw, 2.25rem);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 2px solid rgba(6, 182, 212, 0.3);
    color: var(--color-text-primary);
  }

  .content-section h3 {
    font-family: var(--font-heading);
    font-size: clamp(1.25rem, 3vw, 1.5rem);
    margin-top: var(--space-xl);
    margin-bottom: var(--space-md);
    color: var(--color-accent-cyan);
  }

  .content-section p {
    font-size: 1.1rem;
    line-height: 1.8;
    color: var(--color-text-secondary);
    margin-bottom: var(--space-md);
  }

  .content-section ul,
  .content-section ol {
    margin-bottom: var(--space-md);
    padding-left: var(--space-lg);
  }

  .content-section li {
    font-size: 1.05rem;
    line-height: 1.7;
    color: var(--color-text-secondary);
    margin-bottom: 0.5rem;
  }

  /* Info Box */
  .info-box {
    padding: var(--space-lg);
    margin: var(--space-lg) 0;
  }

  .info-box h3 {
    margin-top: 0;
    font-size: 1.1rem;
    color: var(--color-accent-blue);
  }

  .info-box ul {
    margin: 0;
    padding-left: var(--space-md);
  }

  .info-box li {
    font-size: 1rem;
    margin-bottom: 0.4rem;
  }

  .data-source {
    font-size: 0.8rem;
    color: var(--color-text-secondary);
    opacity: 0.7;
    margin-top: -0.5rem;
    margin-bottom: var(--space-lg);
  }

  .data-source a {
    color: var(--color-accent-cyan);
  }

  /* Quote Box */
  .quote-box {
    padding: var(--space-lg);
    margin: var(--space-lg) 0;
    font-style: italic;
  }

  .quote-box p {
    margin-bottom: var(--space-sm);
    font-size: 1.15rem;
    line-height: 1.8;
    color: var(--color-text-primary);
  }

  .quote-box cite {
    display: block;
    font-style: normal;
    font-size: 0.95rem;
    color: var(--color-accent-cyan);
  }

  /* Read More Link */
  .read-more {
    margin-top: var(--space-sm);
    font-size: 1rem;
  }

  .read-more a {
    color: var(--color-accent-cyan);
    font-weight: 500;
  }

  /* Facts List */
  .facts-list {
    list-style: none;
    padding: 0;
  }

  .facts-list li {
    padding: var(--space-md) 0;
    border-bottom: 1px solid rgba(148, 163, 184, 0.1);
  }

  .facts-list li:last-child {
    border-bottom: none;
  }

  /* Resource List */
  .resource-list {
    list-style: none;
    padding: 0;
  }

  .resource-list li {
    padding: var(--space-sm) 0;
    border-bottom: 1px solid rgba(148, 163, 184, 0.1);
  }

  .resource-list li:last-child {
    border-bottom: none;
  }

  .resource-list a {
    color: var(--color-accent-cyan);
    font-weight: 500;
  }

  /* FAQ Section */
  .faq-section {
    margin-top: var(--space-2xl);
    padding-top: var(--space-xl);
    border-top: 1px solid rgba(148, 163, 184, 0.1);
  }

  .faq-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
  }

  .faq-item {
    background: var(--glass-bg);
    border: var(--glass-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .faq-item[open] {
    background: rgba(6, 182, 212, 0.05);
    border-color: rgba(6, 182, 212, 0.2);
  }

  .faq-question {
    padding: var(--space-md) var(--space-lg);
    cursor: pointer;
    font-size: 1.1rem;
    font-weight: 500;
    color: var(--color-text-primary);
    list-style: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: color 0.2s ease;
  }

  .faq-question::-webkit-details-marker {
    display: none;
  }

  .faq-question::after {
    content: '+';
    font-size: 1.5rem;
    font-weight: 300;
    color: var(--color-accent-cyan);
    transition: transform 0.3s ease;
  }

  .faq-item[open] .faq-question::after {
    transform: rotate(45deg);
  }

  .faq-question:hover {
    color: var(--color-accent-cyan);
  }

  .faq-answer {
    padding: 0 var(--space-lg) var(--space-lg);
  }

  .faq-answer p {
    margin: 0;
    font-size: 1rem;
    line-height: 1.7;
    color: var(--color-text-secondary);
  }

  /* Glassmorphism */
  .glass {
    background: var(--glass-bg);
    border: var(--glass-border);
    border-radius: var(--radius-lg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .hero {
      min-height: 50vh;
    }

    .hero-content {
      padding: var(--space-lg);
    }

    .article-layout {
      padding: 0 var(--space-sm);
    }

    .answer-capsule {
      flex-direction: column;
      align-items: flex-start;
    }

    .capsule-icon {
      width: 32px;
      height: 32px;
    }
  }

  /* Axial Tilt Interactive */
  .tilt-interactive {
    margin: var(--space-xl) 0;
    padding: var(--space-lg);
  }

  .tilt-scene {
    width: 100%;
    overflow-x: auto;
  }

  .tilt-scene svg {
    width: 100%;
    max-width: 440px;
    height: auto;
    display: block;
    margin: 0 auto var(--space-md);
  }

  .tilt-info {
    text-align: center;
    margin-bottom: var(--space-lg);
    min-height: 52px;
  }

  .tilt-stage-name {
    font-family: var(--font-heading);
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--color-accent-cyan);
    margin: 0 0 0.25rem 0;
  }

  .tilt-stage-desc {
    font-size: 0.9375rem;
    font-weight: 300;
    color: var(--color-text-secondary);
  }

  .tilt-controls {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-sm);
  }

  .tilt-slider-label {
    font-size: 0.875rem;
    color: var(--color-text-secondary);
    font-weight: 400;
  }

  .tilt-slider {
    width: 100%;
    max-width: 360px;
    -webkit-appearance: none;
    appearance: none;
    height: 4px;
    border-radius: 2px;
    background: rgba(255,255,255,0.12);
    outline: none;
    cursor: pointer;
  }

  .tilt-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--color-accent-cyan);
    cursor: pointer;
    border: 2px solid rgba(255,255,255,0.3);
    box-shadow: 0 0 8px rgba(6,182,212,0.4);
  }

  .tilt-slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--color-accent-cyan);
    cursor: pointer;
    border: 2px solid rgba(255,255,255,0.3);
  }

  .tilt-reset-btn {
    padding: 0.5rem 1.25rem;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.14);
    border-radius: var(--radius-md);
    color: var(--color-text-secondary);
    font-family: inherit;
    font-size: 0.8125rem;
    font-weight: 500;
    letter-spacing: 0.02em;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .tilt-reset-btn:hover {
    background: rgba(6,182,212,0.12);
    border-color: rgba(6,182,212,0.3);
    color: var(--color-accent-cyan);
  }

  /* Atmospheric Layers Interactive */
  .atmo-interactive {
    margin: var(--space-xl) 0;
    padding: var(--space-lg);
  }

  .atmo-scene {
    width: 100%;
    overflow-x: auto;
  }

  .atmo-scene svg {
    width: 100%;
    max-width: 500px;
    height: auto;
    display: block;
    margin: 0 auto var(--space-md);
  }

  .atmo-band {
    transition: filter 0.15s ease;
  }

  .atmo-band:hover {
    filter: brightness(1.4);
  }

  .atmo-info {
    margin-top: var(--space-md);
    padding: var(--space-md) var(--space-lg);
  }

  .atmo-info-header {
    display: flex;
    align-items: baseline;
    gap: var(--space-md);
    margin-bottom: var(--space-sm);
    flex-wrap: wrap;
  }

  .atmo-info-name {
    font-family: var(--font-heading);
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-accent-cyan);
  }

  .atmo-info-alt {
    font-size: 0.875rem;
    font-weight: 400;
    color: var(--color-text-secondary);
  }

  .atmo-info-desc {
    font-size: 0.9375rem;
    font-weight: 300;
    color: var(--color-text-secondary);
    line-height: 1.7;
    margin: 0 0 var(--space-sm) 0;
  }

  .atmo-info-fact {
    font-size: 0.875rem;
    font-weight: 400;
    color: rgba(56,189,248,0.65);
    font-style: italic;
  }

  .atmo-hint {
    text-align: center;
    font-size: 0.8125rem;
    color: rgba(255,255,255,0.22);
    margin: var(--space-sm) 0 0 0;
    letter-spacing: 0.03em;
  }

  /* Magnetic Field Interactive */
  .magfield-interactive {
    margin: var(--space-xl) 0;
    padding: var(--space-lg);
  }

  .magfield-scene {
    width: 100%;
    overflow-x: auto;
  }

  .magfield-scene svg {
    width: 100%;
    max-width: 600px;
    height: auto;
    display: block;
    margin: 0 auto var(--space-md);
  }

  /* Animated field lines */
  .mag-field-line {
    stroke-dasharray: 12 10;
    animation: magFlow 6s linear infinite;
  }

  @keyframes magFlow {
    from { stroke-dashoffset: 0; }
    to   { stroke-dashoffset: -1100; }
  }

  .magfield-controls {
    display: flex;
    justify-content: center;
    margin-bottom: var(--space-sm);
  }

  .magfield-toggle-btn {
    padding: 0.5rem 1.5rem;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.14);
    border-radius: var(--radius-md);
    color: var(--color-text-secondary);
    font-family: inherit;
    font-size: 0.875rem;
    font-weight: 500;
    letter-spacing: 0.02em;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .magfield-toggle-btn:hover {
    background: rgba(255,100,30,0.12);
    border-color: rgba(255,100,30,0.35);
    color: rgba(255,140,60,0.95);
  }

  .magfield-toggle-btn.active {
    background: rgba(255,100,30,0.15);
    border-color: rgba(255,100,30,0.4);
    color: rgba(255,140,60,0.95);
  }

  .magfield-caption {
    text-align: center;
    font-size: 0.8125rem;
    font-weight: 300;
    color: rgba(255,255,255,0.28);
    margin: 0;
    line-height: 1.6;
    letter-spacing: 0.01em;
  }
</style>
